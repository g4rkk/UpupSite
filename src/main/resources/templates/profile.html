<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>プロフィール</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/ProfileStyle.css">
    <link rel="stylesheet" href="css/header.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header th:replace="~{layout/header :: header}"></header>
    <nav th:replace="~{layout/nav :: nav}"></nav>
    <div id="mask"></div>
    
    
    <div class="container text-center">
        <div class="profile-header">
            <h1>プロフィール</h1>
           	<div class="underline"></div> <!-- 新增横线的div -->

        </div>
        
        <div class="profile-main">
			<div class="profile-main-left">
		        <!-- Profile Details -->
		        <div class="image">
					<img th:src="${profile.image}" class="rounded-circle" width="50" heigth="50">
				</div>
		        <div class="text">
		            <strong>名前:</strong> <span th:text="${profile.name}">name</span>
		        </div>
		        <div class="text">
		            <strong>誕生日:</strong> <span th:text="${profile.birthday}">Birthday</span>
		        </div>
		        <div class="text">
		            <strong>本日の意気込み:</strong> <span th:text="${profile.motivation}">Motivation</span>
		        </div>
		
		
		        <div class="text">
					<strong>金運:</strong><span th:text="${profile.money}"></span>
				</div>
				
				<div class="text">
					<strong>仕事運:</strong><span th:text="${profile.job}"></span>
				</div>
						
				<div class="text">
					<strong>恋愛運:</strong><span th:text="${profile.love}"></span>
				</div>
				 <a href="/edit" class="btn btn-secondary btn-user">ユーザー設定</a>
			 </div>
			 <div class="profile-main-right">
		        <!-- Buttons for Good and Bad Counts -->
		        <div class="buttons-container">
		            <button class="btn btn-primary" onclick="updateCount('good')">Good</button>
		            <button class="btn btn-danger" onclick="updateCount('bad')">Bad</button>
		        </div>
		        
		        <div class="d-flex justify-content-center">
					<div class="choice-display">
			            <div>goodchoice</div>
			            <div th:text="${profile.choiceGood}"></div>
			        </div>
			        
			        <div class="choice-display">
			            <div>badchoice</div>
			            <div th:text="${profile.choiceBad}"></div>
			        </div>
				 </div>
				   <!-- Canvas for the Doughnut Chart -->
       			 <canvas id="goodBadDoughnutChart"></canvas>
       
			 </div>
		</div>
				
        


      
    </div>
    
    <script th:inline="javascript">
        /*<![CDATA[*/
        var profile = /*[[${profile}]]*/ {'id': 1, 'choiceGood': 10, 'choiceBad': 5};
        /*]]>*/
        const goodChoise = /*[[${profile.choiceGood}]]*/"goodChoice";
        const badChoise = /*[[${profile.choiceBad}]]*/"badChoice";
        
        let money = /*[[${profile.money}]]*/"money";
		let job = /*[[${profile.job}]]*/"job";
		let love = /*[[${profile.love}]]*/"love";
    </script>

    <script src="/js/Profile.js"></script>
    
        <footer class="footer">
        <div class="container">
            <span class="text-muted">Copyright © 2023 Technopro Design TeamB All rights reserved.</span>
        </div>
    </footer>
    
    <script defer th:src="@{/js/menu.js}"></script>

</body>
</html>