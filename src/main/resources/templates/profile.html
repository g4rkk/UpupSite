<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>プロフィール</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/ProfileStyle.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header th:replace="~{layout/header :: header}"></header> 
    
    <div class="container text-center">
        <div class="profile-header">
            <h1>プロフィール</h1>
            <div class="underline"></div> <!-- 新增横线的div -->
            
          <a href="/edit" class="btn btn-secondary mt-3">ユーザー設定</a>

        </div>

        <!-- Profile Details -->
        <div class="profile-detail">
            <strong>名前:</strong> <span th:text="${profile.name}">name</span>
        </div>
        <div class="profile-detail">
            <strong>誕生日:</strong> <span th:text="${profile.birthday}">Birthday</span>
        </div>
        <div class="profile-detail">
            <strong>本日の意気込み:</strong> <span th:text="${profile.motivation}">Motivation</span>
        </div>

        <!-- Buttons for Good and Bad Counts -->
        <div class="buttons-container">
            <button class="btn btn-primary" onclick="updateCount('good')">Good</button>
            <button class="btn btn-danger" onclick="updateCount('bad')">Bad</button>
        </div>
        
        <div class="choice-display">
            <div>goodchoice</div>
            <div th:text="${profile.choiceGood}"></div>
        </div>
        
        <div class="choice-display">
            <div>badchoice</div>
            <div th:text="${profile.choiceBad}"></div>
        </div>

        <!-- Canvas for the Doughnut Chart -->
        <canvas id="goodBadDoughnutChart"></canvas>
    </div>
    
    <script th:inline="javascript">
        /*<![CDATA[*/
        var profile = /*[[${profile}]]*/ {'id': 1, 'choiceGood': 10, 'choiceBad': 5};
        /*]]>*/
        const goodChoise = /*[[${profile.choiceGood}]]*/"goodChoice";
        const badChoise = /*[[${profile.choiceBad}]]*/"badChoice";
    </script>

    <script src="/js/Profile.js"></script>
</body>
</html>
