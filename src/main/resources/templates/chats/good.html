<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
    th:replace="~{layout/main :: main(~{::title}, ~{::body/content()})}">
<head>
    <meta charset="UTF-8">
    <title>Good</title>
</head>
<body>
    <main>
        <h1 class="text-center">Good</h1>
        <div class="chat-wrap">
            <div class="chat-content mt-3">
                <div class="d-flex align-items-center">
                    <div class="me-3">
                        <img th:src="@{/images/monster02.png}" alt="icon" width="50" height="50" class="rounded-circle">
                    </div>
                    <div class="chat-content">
                        <div>user name</div>
                        <div onclick="chatContent(2, 'user name')">
                            メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。メッセージ内容です。
                        </div>
                        <div class="d-flex">
                            <div class="small-font mt-1" onclick="chatContent(2, 'user name')">メッセージを返信する</div>
                            <!--activeがあったらいいね済み-->
                            <div class="heart-position heart-action">
                                <div class="heart" onclick="likeAction(1, this)"></div>
                                <div class="heart-count">56</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                
            <div class="reply-content mt-2 ms-4">
                <div class="d-flex align-items-center">
                    <div class="me-3">
                        <img th:src="@{/images/monster02.png}" alt="icon" width="50" height="50" class="rounded-circle">
                    </div>
                    <div>
                        <div>user name</div>
                        <div>
                            返信内容です。
                        </div>
                        <div class="d-flex">
                            <div class="small-font mt-1">メッセージを返信する</div>
                            <!--activeがあったらいいね済み-->
                            <div class="heart-position heart-action">
                                <div class="heart" onclick="likeAction(2, this)"></div>
                                <div class="heart-count">56</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                
            <div class="chat-content mt-3">
                <div class="d-flex align-items-center">
                    <div class="me-3">
                        <img th:src="@{/images/monster02.png}" alt="icon" width="50" height="50" class="rounded-circle">
                    </div>
                    <div>
                        <div>user name</div>
                        <div onclick="chatContent(1, 'hogehogesan')">
                            メッセージ内容です。
                        </div>
                        <div class="d-flex">
                            <div class="small-font mt-1" onclick="chatContent(1, 'hogehogesan')">メッセージを返信する</div>
                            <div class="me-3"><a href="" class="link-danger text-decoration-none fw-bold small-font">削除</a></div>
                        </div>
                        
                     </div>
                </div>
            </div>
            
            
            
            <div th:each="goodChat : ${goodChats}" class="chat-content mt-3" th:id="'chat_' + ${goodChat.id}">
                <div class="d-flex align-items-center">
                    <div class="me-3">
                        <img th:src="@{/images/monster02.png}" alt="icon" width="50" height="50" class="rounded-circle">
                    </div>
                    <div class="chat-content">
                        <div>user name</div>
                        <div th:text="${goodChat.message}" th:onclick="|chatContent(${goodChat.id}, 'user name')|">
                        </div>
                        <div class="d-flex">
                            <div class="small-font mt-1" onclick="chatContent(2, 'user name')">メッセージを返信する</div>
                            <!--activeがあったらいいね済み-->
                            <div class="heart-position heart-action">
                                <div class="heart" onclick="likeAction(1, this)"></div>
                                <div class="heart-count">56</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div th:each="goodReply : ${goodChat.goodReplies}" class="reply-content mt-2 ms-5">
                    <div class="d-flex align-items-center">
                        <div class="me-3">
                            <img th:src="@{/images/monster02.png}" alt="icon" width="50" height="50" class="rounded-circle">
                        </div>
                        <div>
                            <div>user name</div>
                            <div>
                                返信内容です。
                            </div>
                            <div class="d-flex">
                                <div class="small-font mt-1">メッセージを返信する</div>
                                <!--activeがあったらいいね済み-->
                                <div class="heart-position heart-action">
                                    <div class="heart" th:onclick="'likeAction(' + ${goodReply.id} + ', this)'"></div>
                                    <div class="heart-count">56</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            

            <div>
                ここから下がDBから取得したデータです。
                <div th:each="goodChat : ${goodChats}">
                    <div>ID</div>
                    <div th:text="${goodChat.id}"></div>
                    <div th:text="${goodChat.userId}"></div>
                    <div th:text="${goodChat.message}"></div>
                    <div th:text="${goodChat.createdAt}"></div>
                    
                    <div th:each="goodReply : ${goodChat}" class="ms-5">
                        <div>返信</div>
                        <div th:text="${goodReply.message}"></div>

                </div>
                
            </div>
    </main>
</body>
</html>